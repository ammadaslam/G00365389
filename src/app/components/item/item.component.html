<ion-header class="ion-no-border">
    <ion-toolbar>
      <ion-button color="danger" fill="clear" slot="end" (click)="closeModal()">
        <ion-icon name="close-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-thumbnail *ngIf="file_url" slot="start">
          <img [src]="_sanitizer.bypassSecurityTrustUrl(file_url)" />
        </ion-thumbnail>
        <ion-button mode="md" size="medium" slot="end" (click)="attachFile()">
          <ion-icon name="image-outline" slot="start"></ion-icon>
          Attach Image
        </ion-button>
      </ion-item>
      
      <ion-label [hidden]="!percentage">Uploading: {{percentage}}</ion-label>
      <ion-item>
        <ion-label position="floating">Name <ion-text color="danger">*</ion-text></ion-label>
        <ion-input formControlName="name" required type="text"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Description <ion-text color="danger">*</ion-text></ion-label>
        <ion-textarea formControlName="description" required ></ion-textarea>
      </ion-item>
      <ion-button [disabled]="form.invalid" expand="block"  mode="md" type="submit" >
        <ion-text [hidden]="form.get('id').value">Add Item</ion-text>
        <ion-text [hidden]="!form.get('id').value">Update Item</ion-text>
      </ion-button>
    </form>
  </ion-content>